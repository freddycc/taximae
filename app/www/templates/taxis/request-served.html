<ion-view view-title="Solicitud">
  <ion-content>
  	<div class="list">
	    <div class="list card">
	    	<a class="item item-icon-left item-text-wrap" href="#/app/map-detail/{{request.id}}">
	    		<i class="icon ion-android-pin"></i>
	    		{{request.description}}
	    	</a>
	    	<label payment-method class="item item-icon-left"></label>
	    	<label vehicle-type class="item item-icon-left"></label>
		  	<label class="item">
		  		Tiempo de llegada: {{request.time}} minutos.
		  	</label>
		  	<label class="item">
		  		<span request-status></span>
		  	</label>
		  	<a ng-hide="request.status=='3' || request.status=='2'" class="item item-icon-left" ng-click="finish()" href="#"><i class="icon ion-android-close"></i>
		        Terminar solicitud
	      	</a>
	    </div>
	    <div class="item item-divider item-icon-right" ng-show="request.status=='1'">Mensages<a class="button button-icon icon icon ion-ios-refresh-outline" ng-click="refreshMessages()"></a></div>
	    <div class="card" ng-show="request.status=='1'">
			<div ng-repeat="msg in messages" class="item item-icon-left item-divider" messages>
			</div>
		    <div class="item-input-inset">
			    <select style="width:90%" ng-model="message.message_id">
			    <option selected value="0">Seleccione un mensaje.</option>
			    <option ng-repeat="msg in messageList" value="{{msg.id}}">{{msg.message}}</option>
			    </select>
			  	<a class="button button-icon icon ion-android-send" href="#" ng-click="addMessage()"></a>
			</div>
		</div>
	</div>
  </ion-content>
</ion-view>